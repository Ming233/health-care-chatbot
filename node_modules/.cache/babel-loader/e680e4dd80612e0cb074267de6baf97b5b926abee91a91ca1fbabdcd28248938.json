{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { Keys, classNames, dispatchEvent } from '@progress/kendo-react-common';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { convertMsgsToViewItems } from './../ViewItem';\nimport ActionGroup from './ActionGroup';\nimport AttachmentGroup from './AttachmentGroup';\nimport DateMarker from './DateMarker';\nimport MessageGroup from './MessageGroup';\nimport NewMessage from './NewMessage';\nimport { ChatMessage } from './ChatMessage';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the [KendoReact Chat component]({% slug overview_convui %}).\n */\nvar Chat = /** @class */function (_super) {\n  __extends(Chat, _super);\n  function Chat(props) {\n    var _this = _super.call(this, props) || this;\n    _this.viewItems = [];\n    _this.isDirectionRightToLeft = false;\n    _this.scrollToBottomOnLoadingData = true;\n    _this.onFocus = function () {\n      clearTimeout(_this.timeoutIdForChatLosingFocus);\n    };\n    _this.onBlur = function () {\n      // This is a hacky solution to clear the selection when the focus is lost\n      // in favor of an element outside the Chat.\n      // https://medium.com/@jessebeach/dealing-with-focus-and-blur-in-a-composite-widget-in-react-90d3c3b49a9b\n      _this.timeoutIdForChatLosingFocus = window.setTimeout(function () {\n        _this.setState({\n          selectedItemIndex: null\n        });\n      }, 0);\n    };\n    _this.onSelectionRequested = function (clickedItemIndex) {\n      _this.setState({\n        selectedItemIndex: clickedItemIndex\n      });\n    };\n    _this.onKeyDown = function (event) {\n      var newSelectedItemIndex = null;\n      var currentSelectedItemIndex = _this.state.selectedItemIndex !== null ? _this.state.selectedItemIndex : _this.viewItems.lastSelectionIndex;\n      if (event.keyCode === Keys.up) {\n        if (currentSelectedItemIndex === null) {\n          newSelectedItemIndex = 0;\n        } else if (currentSelectedItemIndex > 0) {\n          newSelectedItemIndex = currentSelectedItemIndex - 1;\n        }\n      } else if (event.keyCode === Keys.down) {\n        if (currentSelectedItemIndex === null) {\n          newSelectedItemIndex = 0;\n        } else if (currentSelectedItemIndex < _this.viewItems.lastSelectionIndex) {\n          newSelectedItemIndex = currentSelectedItemIndex + 1;\n        }\n      }\n      if (newSelectedItemIndex !== null) {\n        _this.setState({\n          selectedItemIndex: newSelectedItemIndex\n        });\n        // Prevent the default behavior of moving of the scrollbar\n        // because scrolling is achieved through item focusing.\n        event.preventDefault();\n      }\n    };\n    _this.onMessageSend = function (message, event) {\n      dispatchEvent(_this.props.onMessageSend, event, _this, {\n        message: message\n      });\n    };\n    _this.onActionExecute = function (action, event) {\n      dispatchEvent(_this.props.onActionExecute, event, _this, {\n        action: action\n      });\n      if (!event.isDefaultPrevented()) {\n        switch (action.type) {\n          case 'reply':\n            _this.onMessageSend({\n              author: _this.props.user,\n              text: action.value,\n              timestamp: new Date()\n            }, event);\n            break;\n          case 'call':\n            window.open('tel:' + action.value);\n            break;\n          case 'openUrl':\n            window.open(action.value);\n            break;\n          default:\n            break;\n        }\n        _this.newMsgComp.focusInput();\n      }\n    };\n    validatePackage(packageMetadata);\n    _this.state = {\n      selectedItemIndex: null,\n      isFirstRender: true\n    };\n    return _this;\n  }\n  /**\n   * @hidden\n   */\n  Chat.prototype.render = function () {\n    var _this = this;\n    this.viewItems = this.getViewItemsFromMsgs(this.props.messages);\n    this.isDirectionRightToLeft = this.checkIsDirectionRightToLeft(this.props);\n    return React.createElement(\"div\", {\n      style: {\n        width: this.props.width\n      },\n      onKeyDown: this.onKeyDown,\n      className: this.getClassNames(),\n      ref: function (el) {\n        return _this.chatWrapperEl = el;\n      }\n    }, React.createElement(\"div\", {\n      className: \"k-message-list k-avatars\",\n      onBlur: this.onBlur,\n      onFocus: this.onFocus,\n      role: \"log\",\n      \"aria-live\": \"polite\",\n      onScroll: function (e) {\n        _this.scrollToBottomOnLoadingData = e.currentTarget.scrollTop === e.currentTarget.scrollHeight - e.currentTarget.clientHeight;\n      },\n      ref: function (el) {\n        return _this.viewItemsWrapperEl = el;\n      }\n    }, React.createElement(\"div\", {\n      className: \"k-message-list-content\"\n    }, this.renderViewItems())), React.createElement(NewMessage, {\n      user: this.props.user,\n      onMessageSend: this.onMessageSend,\n      isDirectionRightToLeft: this.isDirectionRightToLeft,\n      ref: function (comp) {\n        return _this.newMsgComp = comp;\n      },\n      placeholder: this.props.placeholder,\n      MessageBox: this.props.messageBox,\n      toolbar: this.props.toolbar,\n      onToolbarActionButtonClick: this.props.onToolbarActionExecute,\n      showToolbar: this.props.showToolbar\n    }));\n  };\n  /**\n   * @hidden\n   */\n  Chat.prototype.componentDidMount = function () {\n    var _this = this;\n    this.setState({\n      isFirstRender: false\n    }, function () {\n      // W/o window.setTimeout the scrolling does not manage to go to the bottom, some offset is left.\n      _this.nextTickId = window.setTimeout(function () {\n        return _this.scrollViewItemsToBottom();\n      }, 250);\n    });\n  };\n  /**\n   * @hidden\n   */\n  Chat.prototype.componentWillUnmount = function () {\n    clearTimeout(this.nextTickId);\n  };\n  /**\n   * @hidden\n   */\n  Chat.prototype.componentDidUpdate = function (prevProps) {\n    if (prevProps.messages.length !== this.props.messages.length && this.scrollToBottomOnLoadingData) {\n      this.scrollViewItemsToBottom();\n    }\n  };\n  Chat.prototype.getClassNames = function () {\n    return classNames('k-widget', 'k-chat', this.props.className, {\n      'k-rtl': this.isDirectionRightToLeft\n    });\n  };\n  Chat.prototype.checkIsDirectionRightToLeft = function (props) {\n    var result = props.dir !== undefined ? props.dir === 'rtl' : this.chatWrapperEl && getComputedStyle(this.chatWrapperEl).direction === 'rtl';\n    return Boolean(result);\n  };\n  Chat.prototype.renderViewItems = function () {\n    var _this = this;\n    var lastViewItemIndex = this.viewItems.length - 1;\n    return this.viewItems.map(function (viewItem, index) {\n      if (viewItem.type === 'date-marker') {\n        return React.createElement(DateMarker, {\n          item: viewItem,\n          key: index\n        });\n      } else if (viewItem.type === 'message-group') {\n        return React.createElement(MessageGroup, {\n          group: viewItem,\n          itemTemplate: _this.props.messageTemplate,\n          attachmentTemplate: _this.props.attachmentTemplate,\n          user: _this.props.user,\n          selectedItemIndex: _this.state.selectedItemIndex,\n          onRequestSelection: _this.onSelectionRequested,\n          isLastGroup: index === lastViewItemIndex,\n          key: index,\n          message: _this.props.message || Chat.defaultProps.message\n        });\n      } else if (viewItem.type === 'attachment-group') {\n        return React.createElement(AttachmentGroup, {\n          group: viewItem,\n          itemTemplate: _this.props.attachmentTemplate,\n          onRequestSelection: _this.onSelectionRequested,\n          selected: viewItem.selectionIndex === _this.state.selectedItemIndex,\n          isLastGroup: index === lastViewItemIndex,\n          key: index\n        });\n      } else if (viewItem.type === 'action-group') {\n        return React.createElement(ActionGroup, {\n          group: viewItem,\n          onActionExecute: _this.onActionExecute,\n          onRequestSelection: _this.onSelectionRequested,\n          selected: viewItem.selectionIndex === _this.state.selectedItemIndex,\n          isLastGroup: index === lastViewItemIndex,\n          key: index\n        });\n      }\n    });\n  };\n  Chat.prototype.scrollViewItemsToBottom = function () {\n    if (this.viewItemsWrapperEl) {\n      this.viewItemsWrapperEl.scrollTop = this.viewItemsWrapperEl.scrollHeight - this.viewItemsWrapperEl.clientHeight;\n    }\n  };\n  Chat.prototype.getViewItemsFromMsgs = function (msgs) {\n    return msgs.length > 0 ? convertMsgsToViewItems(msgs) : [];\n  };\n  /**\n   * @hidden\n   */\n  Chat.propTypes = {\n    messages: PropTypes.arrayOf(PropTypes.object),\n    user: PropTypes.object,\n    messageTemplate: PropTypes.any,\n    attachmentTemplate: PropTypes.any,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    onMessageSend: PropTypes.func,\n    onActionExecute: PropTypes.func,\n    dir: PropTypes.string,\n    messageBox: PropTypes.any\n  };\n  /**\n   * @hidden\n   */\n  Chat.defaultProps = {\n    messages: [],\n    dateFormat: 'g',\n    message: ChatMessage\n  };\n  return Chat;\n}(React.Component);\nexport { Chat };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","Keys","classNames","dispatchEvent","PropTypes","React","convertMsgsToViewItems","ActionGroup","AttachmentGroup","DateMarker","MessageGroup","NewMessage","ChatMessage","validatePackage","packageMetadata","Chat","_super","props","_this","viewItems","isDirectionRightToLeft","scrollToBottomOnLoadingData","onFocus","clearTimeout","timeoutIdForChatLosingFocus","onBlur","window","setTimeout","setState","selectedItemIndex","onSelectionRequested","clickedItemIndex","onKeyDown","event","newSelectedItemIndex","currentSelectedItemIndex","state","lastSelectionIndex","keyCode","up","down","preventDefault","onMessageSend","message","onActionExecute","action","isDefaultPrevented","type","author","user","text","value","timestamp","Date","open","newMsgComp","focusInput","isFirstRender","render","getViewItemsFromMsgs","messages","checkIsDirectionRightToLeft","createElement","style","width","className","getClassNames","ref","el","chatWrapperEl","role","onScroll","e","currentTarget","scrollTop","scrollHeight","clientHeight","viewItemsWrapperEl","renderViewItems","comp","placeholder","MessageBox","messageBox","toolbar","onToolbarActionButtonClick","onToolbarActionExecute","showToolbar","componentDidMount","nextTickId","scrollViewItemsToBottom","componentWillUnmount","componentDidUpdate","prevProps","length","result","dir","undefined","getComputedStyle","direction","Boolean","lastViewItemIndex","map","viewItem","index","item","key","group","itemTemplate","messageTemplate","attachmentTemplate","onRequestSelection","isLastGroup","defaultProps","selected","selectionIndex","msgs","propTypes","arrayOf","object","any","oneOfType","string","number","func","dateFormat","Component"],"sources":["C:/Projects/health-care-chatbot/node_modules/@progress/kendo-react-conversational-ui/dist/es/components/Chat.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Keys, classNames, dispatchEvent } from '@progress/kendo-react-common';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { convertMsgsToViewItems } from './../ViewItem';\nimport ActionGroup from './ActionGroup';\nimport AttachmentGroup from './AttachmentGroup';\nimport DateMarker from './DateMarker';\nimport MessageGroup from './MessageGroup';\nimport NewMessage from './NewMessage';\nimport { ChatMessage } from './ChatMessage';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\n/**\n * Represents the [KendoReact Chat component]({% slug overview_convui %}).\n */\nvar Chat = /** @class */ (function (_super) {\n    __extends(Chat, _super);\n    function Chat(props) {\n        var _this = _super.call(this, props) || this;\n        _this.viewItems = [];\n        _this.isDirectionRightToLeft = false;\n        _this.scrollToBottomOnLoadingData = true;\n        _this.onFocus = function () {\n            clearTimeout(_this.timeoutIdForChatLosingFocus);\n        };\n        _this.onBlur = function () {\n            // This is a hacky solution to clear the selection when the focus is lost\n            // in favor of an element outside the Chat.\n            // https://medium.com/@jessebeach/dealing-with-focus-and-blur-in-a-composite-widget-in-react-90d3c3b49a9b\n            _this.timeoutIdForChatLosingFocus = window.setTimeout(function () { _this.setState({ selectedItemIndex: null }); }, 0);\n        };\n        _this.onSelectionRequested = function (clickedItemIndex) {\n            _this.setState({ selectedItemIndex: clickedItemIndex });\n        };\n        _this.onKeyDown = function (event) {\n            var newSelectedItemIndex = null;\n            var currentSelectedItemIndex = _this.state.selectedItemIndex !== null ?\n                _this.state.selectedItemIndex :\n                _this.viewItems.lastSelectionIndex;\n            if (event.keyCode === Keys.up) {\n                if (currentSelectedItemIndex === null) {\n                    newSelectedItemIndex = 0;\n                }\n                else if (currentSelectedItemIndex > 0) {\n                    newSelectedItemIndex = currentSelectedItemIndex - 1;\n                }\n            }\n            else if (event.keyCode === Keys.down) {\n                if (currentSelectedItemIndex === null) {\n                    newSelectedItemIndex = 0;\n                }\n                else if (currentSelectedItemIndex < _this.viewItems.lastSelectionIndex) {\n                    newSelectedItemIndex = currentSelectedItemIndex + 1;\n                }\n            }\n            if (newSelectedItemIndex !== null) {\n                _this.setState({ selectedItemIndex: newSelectedItemIndex });\n                // Prevent the default behavior of moving of the scrollbar\n                // because scrolling is achieved through item focusing.\n                event.preventDefault();\n            }\n        };\n        _this.onMessageSend = function (message, event) {\n            dispatchEvent(_this.props.onMessageSend, event, _this, { message: message });\n        };\n        _this.onActionExecute = function (action, event) {\n            dispatchEvent(_this.props.onActionExecute, event, _this, { action: action });\n            if (!event.isDefaultPrevented()) {\n                switch (action.type) {\n                    case 'reply':\n                        _this.onMessageSend({\n                            author: _this.props.user,\n                            text: action.value,\n                            timestamp: new Date()\n                        }, event);\n                        break;\n                    case 'call':\n                        window.open('tel:' + action.value);\n                        break;\n                    case 'openUrl':\n                        window.open(action.value);\n                        break;\n                    default:\n                        break;\n                }\n                _this.newMsgComp.focusInput();\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = { selectedItemIndex: null, isFirstRender: true };\n        return _this;\n    }\n    /**\n     * @hidden\n     */\n    Chat.prototype.render = function () {\n        var _this = this;\n        this.viewItems = this.getViewItemsFromMsgs(this.props.messages);\n        this.isDirectionRightToLeft = this.checkIsDirectionRightToLeft(this.props);\n        return (React.createElement(\"div\", { style: { width: this.props.width }, onKeyDown: this.onKeyDown, className: this.getClassNames(), ref: function (el) { return _this.chatWrapperEl = el; } },\n            React.createElement(\"div\", { className: \"k-message-list k-avatars\", onBlur: this.onBlur, onFocus: this.onFocus, role: \"log\", \"aria-live\": \"polite\", onScroll: function (e) {\n                    _this.scrollToBottomOnLoadingData =\n                        (e.currentTarget.scrollTop === e.currentTarget.scrollHeight - e.currentTarget.clientHeight);\n                }, ref: function (el) { return _this.viewItemsWrapperEl = el; } },\n                React.createElement(\"div\", { className: \"k-message-list-content\" }, this.renderViewItems())),\n            React.createElement(NewMessage, { user: this.props.user, onMessageSend: this.onMessageSend, isDirectionRightToLeft: this.isDirectionRightToLeft, ref: function (comp) { return _this.newMsgComp = comp; }, placeholder: this.props.placeholder, MessageBox: this.props.messageBox, toolbar: this.props.toolbar, onToolbarActionButtonClick: this.props.onToolbarActionExecute, showToolbar: this.props.showToolbar })));\n    };\n    /**\n     * @hidden\n     */\n    Chat.prototype.componentDidMount = function () {\n        var _this = this;\n        this.setState({ isFirstRender: false }, function () {\n            // W/o window.setTimeout the scrolling does not manage to go to the bottom, some offset is left.\n            _this.nextTickId = window.setTimeout(function () { return _this.scrollViewItemsToBottom(); }, 250);\n        });\n    };\n    /**\n     * @hidden\n     */\n    Chat.prototype.componentWillUnmount = function () {\n        clearTimeout(this.nextTickId);\n    };\n    /**\n     * @hidden\n     */\n    Chat.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.messages.length !== this.props.messages.length && this.scrollToBottomOnLoadingData) {\n            this.scrollViewItemsToBottom();\n        }\n    };\n    Chat.prototype.getClassNames = function () {\n        return classNames('k-widget', 'k-chat', this.props.className, { 'k-rtl': this.isDirectionRightToLeft });\n    };\n    Chat.prototype.checkIsDirectionRightToLeft = function (props) {\n        var result = props.dir !== undefined ? props.dir === 'rtl' :\n            this.chatWrapperEl && getComputedStyle(this.chatWrapperEl).direction === 'rtl';\n        return Boolean(result);\n    };\n    Chat.prototype.renderViewItems = function () {\n        var _this = this;\n        var lastViewItemIndex = this.viewItems.length - 1;\n        return this.viewItems\n            .map(function (viewItem, index) {\n            if (viewItem.type === 'date-marker') {\n                return React.createElement(DateMarker, { item: viewItem, key: index });\n            }\n            else if (viewItem.type === 'message-group') {\n                return (React.createElement(MessageGroup, { group: viewItem, itemTemplate: _this.props.messageTemplate, attachmentTemplate: _this.props.attachmentTemplate, user: _this.props.user, selectedItemIndex: _this.state.selectedItemIndex, onRequestSelection: _this.onSelectionRequested, isLastGroup: index === lastViewItemIndex, key: index, message: _this.props.message || Chat.defaultProps.message }));\n            }\n            else if (viewItem.type === 'attachment-group') {\n                return (React.createElement(AttachmentGroup, { group: viewItem, itemTemplate: _this.props.attachmentTemplate, onRequestSelection: _this.onSelectionRequested, selected: viewItem.selectionIndex === _this.state.selectedItemIndex, isLastGroup: index === lastViewItemIndex, key: index }));\n            }\n            else if (viewItem.type === 'action-group') {\n                return (React.createElement(ActionGroup, { group: viewItem, onActionExecute: _this.onActionExecute, onRequestSelection: _this.onSelectionRequested, selected: viewItem.selectionIndex === _this.state.selectedItemIndex, isLastGroup: index === lastViewItemIndex, key: index }));\n            }\n        });\n    };\n    Chat.prototype.scrollViewItemsToBottom = function () {\n        if (this.viewItemsWrapperEl) {\n            this.viewItemsWrapperEl.scrollTop =\n                this.viewItemsWrapperEl.scrollHeight - this.viewItemsWrapperEl.clientHeight;\n        }\n    };\n    Chat.prototype.getViewItemsFromMsgs = function (msgs) {\n        return msgs.length > 0 ? convertMsgsToViewItems(msgs) : [];\n    };\n    /**\n     * @hidden\n     */\n    Chat.propTypes = {\n        messages: PropTypes.arrayOf(PropTypes.object),\n        user: PropTypes.object,\n        messageTemplate: PropTypes.any,\n        attachmentTemplate: PropTypes.any,\n        width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        onMessageSend: PropTypes.func,\n        onActionExecute: PropTypes.func,\n        dir: PropTypes.string,\n        messageBox: PropTypes.any\n    };\n    /**\n     * @hidden\n     */\n    Chat.defaultProps = {\n        messages: [],\n        dateFormat: 'g',\n        message: ChatMessage\n    };\n    return Chat;\n}(React.Component));\nexport { Chat };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}